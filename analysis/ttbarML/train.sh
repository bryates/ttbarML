#!/bin/sh
echo Starting...
#apptainer exec --nv -B /scratch365 /afs/crc.nd.edu/x86_64_linux/s/singularity/images/pytorch-1.13.sif python3 /scratch365/byates2/ttbarML/analysis/ttbarML/train.py --epoch 200 --learning-rate 0.05 --cores 1 --files top_quark_reco_events.root --features top1_pt,lepton1_pt
apptainer exec --nv -B /scratch365 /afs/crc.nd.edu/x86_64_linux/s/singularity/images/pytorch-1.13.sif python3 train.py --files "/scratch365/byates2/ttbarML/analysis/ttbarML/top_quarks.parquet" --learning-rate 0.001 --epochs 50 --factor 0.01 --patience 10 --features top_px,top_py,top_pz,top_energy,b_px,b_py,b_pz,b_energy,lep_px,lep_py,lep_pz,lep_energy,MET_px,MET_py --feature-division 8 --batch-size 8182 --cores 1 --device cuda --plots #--profile
#/usr/bin/time -v apptainer exec --nv -B /scratch365 /afs/crc.nd.edu/x86_64_linux/s/singularity/images/pytorch-1.13.sif python3 train.py --files "/scratch365/byates2/ttbarML/analysis/ttbarML/top_quark_reco_events_NAOD-00000_*" --learning-rate 0.001 --epochs 300 --factor 0.01 --patience 10 --features top1_px,top1_py,top1_pz,top1_energy,top2_px,top2_py,top2_pz,top2_energy,lepton1_px,lepton1_py,lepton1_pz,lepton1_energy,lepton2_px,lepton2_py,lepton2_pz,lepton2_energy,jet1_px,jet1_py,jet1_pz,jet1_energy,jet2_px,jet2_py,jet2_pz,jet2_energy,jet3_px,jet3_py,jet3_pz,jet3_energy,jet4_px,jet4_py,jet4_pz,jet4_energy,jet5_px,jet5_py,jet5_pz,jet5_energy,jet6_px,jet6_py,jet6_pz,jet6_energy,jet7_px,jet7_py,jet7_pz,jet7_energy,jet8_px,jet8_py,jet8_pz,jet8_energy,met_px,met_py --feature-division 8 --batch-size 8182 --cores 1 --device cpu --plots #--profile
#apptainer exec --nv -B /scratch365 /afs/crc.nd.edu/x86_64_linux/s/singularity/images/pytorch-1.13.sif python3 train.py --files "/scratch365/byates2/ttbarML/analysis/ttbarML/top_quark_reco_events_NAOD-00000_*" --learning-rate 0.0001 --epochs 300 --factor 0.01 --patience 10 --features ttbar_px,ttbar_py,ttbar_pz,ttbar_energy,lepton1_px,lepton1_py,lepton1_pz,lepton1_energy,lepton2_px,lepton2_py,lepton2_pz,lepton2_energy,jet1_px,jet1_py,jet1_pz,jet1_energy,jet2_px,jet2_py,jet2_pz,jet2_energy,jet3_px,jet3_py,jet3_pz,jet3_energy,jet4_px,jet4_py,jet4_pz,jet4_energy,jet5_px,jet5_py,jet5_pz,jet5_energy,jet6_px,jet6_py,jet6_pz,jet6_energy,jet7_px,jet7_py,jet7_pz,jet7_energy,jet8_px,jet8_py,jet8_pz,jet8_energy,met_px,met_py --feature-division 4 --batch-size 8182 --cores 1 --device cpu --plots
